(function(e){e.fn.getTwitter=function(t){function r(e){var t=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;return e.replace(t,'<a href="$1">$1</a>')}function i(e){var t=e.split(" ");e=t[1]+" "+t[2]+", "+t[5]+" "+t[3];var n=Date.parse(e),r=arguments.length>1?arguments[1]:new Date,i=parseInt((r.getTime()-n)/1e3);i+=r.getTimezoneOffset()*60;return i<60?"less than a minute ago":i<120?"about a minute ago":i<3600?parseInt(i/60).toString()+" minutes ago":i<7200?"about an hour ago":i<86400?"about "+parseInt(i/3600).toString()+" hours ago":i<172800?"1 day ago":parseInt(i/86400).toString()+" days ago"}e.fn.getTwitter.defaults={userName:null,numTweets:5,loaderText:"Loading tweets...",slideIn:!0,slideDuration:750,showHeading:!0,headingText:"Latest Tweets",showProfileLink:!0,showTimestamp:!0,includeRetweets:!1,excludeReplies:!0};var n=e.extend({},e.fn.getTwitter.defaults,t);return this.each(function(){var t=e(this);t.hide().empty().addClass("twitted");n.showHeading&&t.append("<h5>"+n.headingText+"</h5>");var s='<ul id="twitter_update_list"></ul>';t.append(s);var u=e("#twitter_update_list");u.hide();var a=e('<p class="preLoader">'+n.loaderText+"</p>");t.append(a);if(n.showProfileLink){var f='<p class="profileLink"><a href="https://twitter.com/'+n.userName+'">@'+n.userName+"</a></p>";t.append(f)}t.show();window.jsonTwitterFeed="https://api.twitter.com/1/statuses/user_timeline.json?include_rts="+n.includeRetweets+"&excludeReplies="+n.excludeReplies+"&screen_name="+n.userName+"&count="+(n.numTweets+20);e.ajax({url:jsonTwitterFeed,data:{},dataType:"jsonp",callbackParameter:"callback",timeout:5e4,success:function(t){window.count=0;e.each(t,function(t,s){var f="<li><span>"+r(s.text)+"</span>";n.showTimestamp&&(f+=' <a style="font-size:85%" href="https://twitter.com/'+n.userName+"/statuses/"+s.id_str+'">'+i(s.created_at)+"</a>");f+="</li>";e("#twitter_update_list").append(f);count++;if(count==n.numTweets){e(a).remove();if(n.slideIn){var l=u.data("originalHeight");if(!l){l=u.show().height();u.data("originalHeight",l);u.hide().css({height:0})}u.show().animate({height:l},n.slideDuration)}else u.show();u.find("li:first").addClass("firstTweet");u.find("li:last").addClass("lastTweet");return!1}})},error:function(e,t,n){}})})}})(jQuery);